<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Votación CATIE</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    font-family: Arial, Helvetica, sans-serif;
}

/* ===== FONDO ===== */
body {
    background: url("Background.png") no-repeat center center;
    background-size: cover;
    background-color: #f7f2de;
    position: relative;
}

/* ===== CONTADOR ===== */
#contador {
    position: absolute;
    bottom: 150px;
    left: 40px;
    background: #0a4ea1;
    color: #ffd200;
    padding: 8px 14px;
    border-radius: 6px;
    font-size: 16px;
    font-weight: bold;
    z-index: 10;
}

/* ===== CONTENEDOR DE VOTOS ===== */
.votacion {
    position: absolute;
    left: 20%;
    top: 24%;
    width: 420px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    justify-items: center;
}

/* Tarjeta superior centrada */
.votacion .top {
    grid-column: span 2;
}

/* ===== TARJETA AZUL ===== */
.vote-card {
    width: 210px;
    height: 290px;
    background: #0a4ea1;
    border-radius: 120px 120px 25px 25px;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Imagen circular */
.vote-card .circle {
    width: 155px;
    height: 155px;
    margin-top: 18px;
    border-radius: 50%;
    overflow: hidden;
    background: #fff;
}

.vote-card .circle img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Texto amarillo */
.vote-card .label {
    margin-top: 18px;
    color: #ffd200;
    font-size: 22px;
    font-weight: bold;
    letter-spacing: 3px;
}

/* ===== BOTONES ===== */
.acciones {
    position: absolute;
    bottom: 40px;
    right: 80px;
    display: flex;
    gap: 12px;
}

.acciones button {
    padding: 12px 20px;
    font-size: 14px;
    font-weight: bold;
    border: none;
    cursor: pointer;
    background: #0a4ea1;
    color: #ffd200;
    border-radius: 6px;
}

/* ========================= */
/* ===== RESPONSIVE SUAVE ==== */
/* ========================= */

/* Laptop pequeña / tablet horizontal */
@media (max-width: 1200px) {
    .votacion {
        left: 18%;
        top: 22%;
        transform: scale(0.92);
        transform-origin: top left;
    }

    #contador {
        bottom: 140px;
        left: 30px;
        font-size: 15px;
    }
}

/* Tablet vertical */
@media (max-width: 900px) {
    .votacion {
        left: 15%;
        top: 20%;
        transform: scale(0.85);
    }

    .acciones {
        right: 40px;
        bottom: 30px;
    }
}

/* Tablet pequeña */
@media (max-width: 768px) {
    .votacion {
        left: 12%;
        top: 18%;
        transform: scale(0.8);
    }

    #contador {
        bottom: 120px;
        left: 20px;
        font-size: 14px;
    }
}
</style>
</head>

<body>

<div id="contador">Votos: 0</div>

<div class="votacion">

    <!-- OPCIÓN A -->
    <div class="vote-card top" onclick="votar('A')">
        <div class="circle">
            <img src="card-blue.jpg">
        </div>
        <div class="label">C.A.T.I.E</div>
    </div>

    <!-- OPCIÓN B -->
    <div class="vote-card" onclick="votar('B')">
        <div class="circle">
            <img src="card-blue.jpg">
        </div>
        <div class="label">C.A.T.I.E</div>
    </div>

    <!-- OPCIÓN C -->
    <div class="vote-card" onclick="votar('C')">
        <div class="circle">
            <img src="card-blue.jpg">
        </div>
        <div class="label">C.A.T.I.E</div>
    </div>

</div>

<div class="acciones">
    <button onclick="descargarTXT()">Descargar TXT</button>
    <button onclick="resetear()">Restablecer</button>
</div>

<script>
let votos = JSON.parse(localStorage.getItem("votos")) || {A:0,B:0,C:0};

function votar(op) {
    votos[op]++;
    localStorage.setItem("votos", JSON.stringify(votos));
    actualizar();
}

function actualizar() {
    document.getElementById("contador").textContent =
        "Votos: " + (votos.A + votos.B + votos.C);
}

function descargarTXT() {
    let txt =
        `Resultados\n\nA: ${votos.A}\nB: ${votos.B}\nC: ${votos.C}\n\nTotal: ${votos.A+votos.B+votos.C}`;
    let blob = new Blob([txt], {type:"text/plain"});
    let a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "resultados.txt";
    a.click();
}

function resetear() {
    if (!confirm("¿Está seguro de restablecer la información?")) return;
    let c = prompt("Ingrese el código:");
    if (c === "1234") {
        votos = {A:0,B:0,C:0};
        localStorage.setItem("votos", JSON.stringify(votos));
        actualizar();
        alert("Votación restablecida");
    }
}

actualizar();
</script>

</body>
</html>
